sudo: required
group: deprecated-2017Q3
language: scala
scala:
- 2.11.8
services:
- docker
before_install:
- "./tools/travis/setup.sh"
install: true
script:
- "./tools/travis/build.sh && ./tools/travis/build_sdk.sh && ./tools/travis/deploy.sh
  && ./tools/travis/test.sh"
before_deploy:
- "./tools/travis/rename_sdk.sh ${TRAVIS_TAG%@*} ${TRAVIS_TAG##*@}"
deploy:
- provider: script
  script: "./tools/travis/publish.sh openwhisk ${TRAVIS_TAG%@*} ${TRAVIS_TAG##*@}"
  on:
    tags: true
    all_branches: true
    condition: "${TRAVIS_TAG%@*} = dockerskeleton"
- provider: releases
  api_key:
    secure: q8erbGUKDQcrEe4H1DT0UDHnbTb7eNP4RkM3K6VIT+lfLRHJBKlVLW5MepQugyLVdJGAuvKR60pEAjTzTeRf6yy/fARvq+CQk4Kqy5rBJdvbCkCIAL+kvdFx1HJ/4YZ0rNFQf41uNpONf4bAv7fX7E2KprXgLSZ0HSEuMLD5v4FGQ8OaxOMmFVSEFOYuzUD/UdX/xTx6XMmmwIXu3NxNQeOxbOlcZMalF4NQS+tOIFVDPfprRFIyVkORfdS+yfhEZ8PjtyZ9h+oDvRiqxIP/8LVcNuuxSnShPN/hx55rE79XJc6OC74LSOa2aKRvKlcYnSZBMj+FtIj4/VCjkcSb5tEvr96243lXzg0nKCaEY9dQZ1mk0Qbw7mSo5abXqOSNqVR5y6zEw1Tc/n+h1YGoanacw4a9goueOn8cGygHvncIi4G9ctnyQ3Q6q46eMR6E1x6OCxwDmcokze//NFSflU25E2Dcq2VWE2NStofUyjETIo0JBzxbuQpMmbMQDafLh2bYLirKDE0L6O3H5cr6bCZsPfatsDjR3YGi4uIE79IdWT9hEHTDlIE4Bs48Y/+fZqOJwGiIJwk3H5KI9exXsjFS0K/njW3RP/EeYAB6sBF3+H9HhR1nZo8BZvh6cGPy8iBjwuodlvmCuklXsZKnW25V0a8bEAMFSwxWF5rhKvU=
  overwrite: true
  skip_cleanup: true
  file: "./build/blackbox-${TRAVIS_TAG##*@}.tar.gz"
  on:
    tags: true
    all_branches: true
    condition: "${TRAVIS_TAG%@*} = sdk"
env:
  global:
  - secure: DG9V6udwMMKoDbFZJCjau0KAdUTPqGCIBvrPCblpXYEH35QcpxR9MfL3A42h4AbQjsmn5sg7zIMkDI1q5Fsvo0ood8z/mrUbPldF5dEnSPwzjV/ErGoFWPdKyPvkyO567XQD2GU7ZL1GjB/marq2qS+zx7ZCbkxAJSOiDS5/c3dD2yt0QHKkMKYt5Au+qs674y2VPNM6gUwtxY8GjyE3I6MubIqmimUAHcdt+PBcIeJOF2CET01KiOUVRUaKlKgSnkKks31ojKMcwwHJue7/KJ1fbUMz1traenGKA2NoD4qR58QRYCB+W47vKvtX6K7jL7w7Ck+IJ3MJOZjP1V8GKoNhfPgxuxZpWnJaZ61iaOYLAkwqr1bicf1qkDzDXE34XouGkocOJWvU4lE9MiuP3VWhpQAeV62pDDxnD8aApmbykCuhcD6cUwbbi7UF2irnOLdDLd8wpP3OCo9faHSqmjlnzzLR+KzZoU5J7P0NXTdLOEwBIyzvQv3s0AvxNazUR7vfA+HDU4qM1dyfKUKBJegAcbWSRpiH593FnWXYDWIn0Ib9ygnk68EfyEFTc4Ns3IZrYIJkOtdXcevU6vpQf8HFwJUxOJOeEKjbu/xNKWTjceBzsgMIk8eq4+Z4Ye84rPI3oQ99UoQlX3QjOyfgHzTH+mctotHM7V8puW3V2wQ=
  - secure: qbHuG/MuxDsW/OZActec2oQDCiuolQPDCdBGc/ExPSe4hWf2xofRAfvYsAd1JXZQgNcy1S11zJ/0RsPFYEo0eJhr/HFpHF0q37R9OqTvvasf0qwh6BQKpdJRq9SJQ1pW7f1wpwJykCBlr/XgVsntZ+ykOFTWnQySC5LivhbBcH21EIMy2WZTWZ6ACitBd798rXz+TgE2rjWLsOwW9MuqGFCcThkYR4auOmA51FjcW2ni77NARYCTojrYpGuKAaMZoo8RjwNfuQXmkzgzKyRDX1LdbE/03+E5Mqf4896ee+O5vCr6SgANnjqhZX1oh2z7UQ9myyrWL4MavZfpg4GWZNcrDsoBPvpfguOQzLBRGc21W2TR1YUK46x8AuoMsMKhrOmlBog3JAedDcNTjq8vNxdRpkSDAJqwuBS+aqTwqq8j2Ec9woXm8ObIzXUQ/X+83iihEHD4TsDhmLDiGJ8NjSOs0E5C1ipQ0tM83Yvcgt4yPyr0LsS9nlNAtTBI7iCxLbsDWgngW+lndYMeA1ytPEYlKwl/nx9s7KV/cLnGBNVpx3vJo4XQwTc/JFO7KVRJTGZ6jdD6vNIDW83AYrocezaYKvQm1GSE9GngM3NNv5uD3OO+pFTowMrh14qK6EdgNvNjyMXHkuskRjPj1PKmP4fCSPGlfltldIwqZQ39QJo=
